{% extends 'base.html' %}

{% block nav %}
    <h1>Network Admin</h1>
{% endblock %}

{% block body %}
    <form method="post" id="formulario">
        <div class="container">
            <div class="sucursales parent">
                    {% for branch in devices %}
                    <div class="item">
                        <input type="checkbox" checked
                            name="branch"
                            value="{{ branch }}">
                        <p>{{ branch }}</p>
                    </div>
                    {% endfor %}
            </div>

            <div class="resumen parent">

                <div class="acciones child">
                    <h1>Acciones</h1>
                    <input type="submit" name="action" value="filtrar">
                    <input type="submit" name="action" value="reiniciar">
                    <input type="submit" name="action" value="ejecutar">
                </div>
                
                <div class="dispositivos child">
                    {% for branch in devices %}
                    <div>
                    <h3>{{branch}}</h3>
                        {% for device in devices[branch] %}
                            <p>{{device}}</p>
                            <ul>
                                {% for host in devices[branch][device] %}
                                    <li class="item {{'bgGreen' if devices[branch][device][host]['conn'] else 'bgRed'}}">
                                        <p>{{ devices[branch][device][host]['info']['host'] }}</p>
                                        <p>{{ devices[branch][device][host]['info']['ip'] }}</p>
                                    </li>
                                {% endfor %}
                            </ul>
                        {% endfor %}
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div class="consola parent">
                {% for branch in devices %}
                    <div class="child">
                        <h1>{{branch}}</h1>
                        {% for device in devices[branch] %}
                            {% for host in devices[branch][device] %}
                            {% if devices[branch][device][host]['conn'] %}
                                <div class="parent">
                                    <p>{{device}} {{host}}</p>
                                    <textarea readonly
                                        name="{{devices[branch][device][host]['info']['ip']}}"
                                        class="areaComandos"
                                        id="consola"
                                        cols="30" rows="10">{{respuesta}}</textarea>
                                        <input type="file" id="fileInput">
                                </div>
                            {% endif %}
                            {% endfor %}
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </form>
    {% endblock %}

{% block footer %}
    <p>footer</p>
{% endblock %}